<idea-plugin>
    <id>fantom.codeowners</id>
    <name>CODEOWNERS</name>
    <vendor url="https://github.com/fan-tom">fan-tom</vendor>

    <!-- Product and plugin compatibility requirements -->
    <!-- https://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html -->
    <depends>com.intellij.modules.platform</depends>

    <extensions defaultExtensionNs="com.intellij">
        <applicationService serviceImplementation="com.github.fantom.codeowners.settings.CodeownersSettings"/>


        <projectService serviceImplementation="com.github.fantom.codeowners.services.CodeownersMatcher"/>
        <projectService serviceImplementation="com.github.fantom.codeowners.CodeownersManager"/>

        <fileType name="Codeowners File" implementationClass="com.github.fantom.codeowners.CodeownersFileType"
                  fieldName="INSTANCE" language="CODEOWNERS" fileNames="CODEOWNERS"/>
        <lang.parserDefinition language="CODEOWNERS"
                               implementationClass="com.github.fantom.codeowners.languages.github.CodeownersParserDefinition"/>
        <psi.referenceContributor
                language="CODEOWNERS"
                implementation="com.github.fantom.codeowners.reference.CodeownersReferenceContributor"/>
        <codeInsight.lineMarkerProvider
                language="CODEOWNERS"
                implementationClass="com.github.fantom.codeowners.daemon.CodeownersDirectoryMarkerProvider"/>

        <localInspection
                bundle="messages.CodeownersBundle"
                enabledByDefault="true"
                groupKey="codeInspection.group"
                implementationClass="com.github.fantom.codeowners.codeInspection.CodeownersCoverEntryInspection"
                key="codeInspection.coverEntry"
                level="WARNING"/>
        <localInspection
                bundle="messages.CodeownersBundle"
                enabledByDefault="true"
                groupKey="codeInspection.group"
                implementationClass="com.github.fantom.codeowners.codeInspection.CodeownersDuplicateEntryInspection"
                key="codeInspection.duplicateEntry"
                level="ERROR"/>
        <localInspection
                bundle="messages.CodeownersBundle"
                enabledByDefault="true"
                groupKey="codeInspection.group"
                implementationClass="com.github.fantom.codeowners.codeInspection.CodeownersUnusedEntryInspection"
                key="codeInspection.unusedEntry"
                level="WEAK WARNING"/>
        <localInspection
                bundle="messages.CodeownersBundle"
                enabledByDefault="true"
                groupKey="codeInspection.group"
                implementationClass="com.github.fantom.codeowners.codeInspection.CodeownersRelativeEntryInspection"
                key="codeInspection.relativeEntry"
                level="ERROR"/>
        <localInspection
                bundle="messages.CodeownersBundle"
                enabledByDefault="true"
                groupKey="codeInspection.group"
                implementationClass="com.github.fantom.codeowners.codeInspection.CodeownersIncorrectEntryInspection"
                key="codeInspection.incorrectEntry"
                level="ERROR"/>

        <vcsConfigurableProvider
                implementation="com.github.fantom.codeowners.settings.CodeownersSettingsConfigurable"/>

        <statusBarWidgetFactory id="codeownersWidget" implementation="com.github.fantom.codeowners.CodeownersBarWidgetFactory" order="after positionWidget"/>
        <fileBasedIndex implementation="com.github.fantom.codeowners.indexing.CodeownersFilesIndex"/>
        <lang.elementManipulator
                forClass="com.github.fantom.codeowners.languages.github.psi.CodeownersEntry"
                implementationClass="com.github.fantom.codeowners.languages.github.psi.CodeownersEntryManipulator"/>
        <lang.elementManipulator
                forClass="com.github.fantom.codeowners.languages.github.psi.CodeownersNamedOwner"
                implementationClass="com.github.fantom.codeowners.languages.github.psi.CodeownersNamedOwnerManipulator"/>

        <documentationProvider implementation="com.github.fantom.codeowners.reference.CodeownersGithubOwnerDocumentationProvider"/>
    </extensions>
</idea-plugin>
